import numpy as np
import matplotlib.pyplot as plt

# import data
off = np.loadtxt('off')
on = np.loadtxt('on')

# make complex numpy array with data
complex_data_off = np.empty(16000, dtype=complex)
complex_data_off.real = off[:16000]
complex_data_off.imag = on[16000:]

# compute fourier transform
fourier_off = np.fft.fft(complex_data_off)
# sample rate is 62.5e6 Hz, spacing is inverse
sample_spacing = 1.6e-8
fourier_axis_off = np.fft.fftfreq(n=len(complex_data_off), d=sample_spacing)
# fourier filter
fourier_off[0] = 0


# make complex numpy array with data
complex_data_on = np.empty(16000, dtype=complex)
complex_data_on.real = on[:16000]
complex_data_on.imag = off[16000:]

# compute fourier transform
fourier_on = np.fft.fft(complex_data_on)
# sample rate is 62.5e6 Hz, spacing is inverse
sample_spacing = 1.6e-8
fourier_axis_on = np.fft.fftfreq(n=len(complex_data_on), d=sample_spacing)
# fourier filter
fourier_on[0] = 0


# plot results
plt.plot(fourier_axis_off, np.abs(np.fft.fftshift(fourier_off))**2, label="off")
plt.plot(fourier_axis_on, np.abs(np.fft.fftshift(fourier_on))**2, label="on")
plt.yscale('log')
plt.ylabel('Intensity ~W/Hz')
plt.xlabel(r'$\nu$ Hz')
plt.grid()
plt.legend()
plt.show()
#plt.savefig('tempdiff.png')
